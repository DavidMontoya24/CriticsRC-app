<div class="element-card gap-1">
    <div class="element-cover-container">
    <%if game.cover.attached? %>
    <%= link_to image_tag(game.cover, alt: "element-image", class: "element-image"), game %> 
    <% else %>
      <%= image_tag("game-default.jpg", alt: "element-image", class: "element-image") %> 
    <% end %>
    </div>

  <div class="font-primary">
    <div class="flex  ">
      <div>
        <div class= "content-lg regular"><%= link_to game.name, game %></div>
        <% if game.release_date %>
          <p class= "content-xs"><%= game.release_date.year %></p>
        <% end %>
      </div>
      <div>
        <div class="button button--rating "><%= game.rating %></div>
      </div>
    </div>

    <p class= "element-description content-sm"><%= game.summary %></p>

    <div class="flex ">
      <div class= "x-small"><%= (policy_scope(Critic) & game.received_critics).size %> Critics</div>
    
      <div class="element-icons">
        <% if policy(Game).update? %>
          <%= link_to "Edit", edit_game_path(game), class: 'button--sm button--primary'%>
        <% end %>
        <% if policy(Game).destroy? %>
          <%= link_to "Delete", game, data: { turbo_method: :delete }, class: 'button--sm button--primary' %>
        <% end %>
      </div>
    </div>
  </div>


</div>